{{template "header"}}
    <title>分类 - 我的 beego 博客</title>
</head>

<body>
<div class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        {{template "navbar" .}}
    </div>
</div>

<div class="container">
    {{template "blank" .}}
    <h1>文章分类列表</h1>
    <form method="get" action="/category">
        <div class="form-group">
            <label>分类名称</label>
            <input id="categoryname" class="form-control" placeholder="" name="categoryname">
        </div>
        <input type="hidden" name="op" value="add">
        <button type="submit" class="btn btn-default" onclick="checkInput()">添加</button>
    </form>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>#</th>
                <th>名称</th>
                <th>文章数</th>
                <th>操作</th>
            </tr>
        </thead>

        <tbody>
            {{range .Categories}}
            <tr>
                <th scope="row">{{.Id}}</th>
                <td>{{.Title}}</td>
                <td>{{.TopicCount}}</td>
                <td>
                    <a href="/category?op=del&id={{.Id}}">删除</a>
                </td>
            </tr>
            {{end}}
        </tbody>

    </table>

    <script type="text/javascript">
        function checkInput() {
            var categoryname = document.getElementById("categoryname");
            if (categoryname.value.length <= 0) {
                alert("请输入分类名");
                return false;
            }
            return true;
        }
    </script>
</div>

<script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
</body>
</html>